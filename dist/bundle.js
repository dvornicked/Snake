(()=>{var t={canvas:null,ctx:null,sprites:{background:null,cell:null,body:null},width:0,height:0,dimensions:{max:{width:640,height:360},min:{width:300,height:300}},init:function(){this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d"),this.initDimensions()},initDimensions:function(){var t={maxWidth:this.dimensions.max.width,maxHeight:this.dimensions.max.height,minWidth:this.dimensions.min.width,minHeight:this.dimensions.min.height,realWidth:window.innerWidth,realHeight:window.innerHeight};t.realWidth/t.realHeight>t.maxWidth/t.maxHeight?this.fitWidth(t):this.fitHeight(t),this.canvas.width=this.width,this.canvas.height=this.height},fitHeight:function(t){this.width=Math.round(t.realWidth*t.maxHeight/t.realHeight),this.width=Math.min(this.width,t.maxWidth),this.width=Math.max(this.width,t.minWidth),this.height=Math.round(this.width*t.realHeight/t.realWidth),this.canvas.style.height="100%"},fitWidth:function(t){this.height=Math.round(this.width*t.realHeight/t.realWidth),this.height=Math.min(this.height,t.maxHeight),this.height=Math.max(this.height,t.minHeight),this.width=Math.round(t.realWidth*this.height/t.realHeight),this.canvas.style.width="100%"},start:function(){var t=this;this.init(),this.preload((function(){t.run()}))},preload:function(t){var i=0,h=Object.keys(this.sprites).length,e=function(){++i>=h&&t()};for(var s in this.sprites)this.sprites[s]=new Image,this.sprites[s].src="./img/".concat(s,".png"),this.sprites[s].addEventListener("load",e)},run:function(){var t=this;this.board.create(),this.snake.create(),window.requestAnimationFrame((function(){t.ctx.drawImage(t.sprites.background,(t.width-t.sprites.background.width)/2,(t.height-t.sprites.background.height)/2),t.board.render(),t.snake.render()}))}};t.board={game:t,size:15,cells:[],create:function(){for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++){var h=this.createCell(t,i);this.cells.push(h)}},createCell:function(t,i){var h=this.game.sprites.cell.width+1;return{row:t,col:i,x:h*i+(this.game.width-h*this.size)/2,y:h*t+(this.game.height-h*this.size)/2}},render:function(){var t=this;this.cells.forEach((function(i){t.game.ctx.drawImage(t.game.sprites.cell,i.x,i.y)}))},getCell:function(t,i){return this.cells.find((function(h){return h.row===t&&h.col===i}))}},t.snake={game:t,cells:[],create:function(){for(var t=0,i=[{row:7,col:7},{row:8,col:7}];t<i.length;t++){var h=i[t],e=this.game.board.getCell(h.row,h.col);this.cells.push(e)}},render:function(){var t=this;this.cells.forEach((function(i){t.game.ctx.drawImage(t.game.sprites.body,i.x,i.y)}))}},t.start()})();