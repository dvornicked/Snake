(()=>{var t={canvas:null,ctx:null,sprites:{background:null,cell:null},width:640,height:360,init:function(){this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d")},start:function(){var t=this;this.init(),this.preload((function(){t.run()}))},preload:function(t){var e=0,i=Object.keys(this.sprites).length,s=function(){++e>=i&&t()};for(var n in this.sprites)this.sprites[n]=new Image,this.sprites[n].src="./img/".concat(n,".png"),this.sprites[n].addEventListener("load",s)},run:function(){var t=this;this.board.create(),window.requestAnimationFrame((function(){t.ctx.drawImage(t.sprites.background,0,0),t.board.render()}))}};t.board={game:t,size:15,cells:[],create:function(){console.log("Вызвана функция");for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++){var i=this.createCell(t,e);this.cells.push(i)}console.log(this.cells)},createCell:function(t,e){var i=this.game.sprites.cell.width+1;return{row:t,col:e,x:i*e+(this.game.width-i*this.size)/2,y:i*t+(this.game.height-i*this.size)/2}},render:function(){var t=this;this.cells.forEach((function(e){t.game.ctx.drawImage(t.game.sprites.cell,e.x,e.y)}))}},t.start()})();